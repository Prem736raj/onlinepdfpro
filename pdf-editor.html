<!DOCTYPE html>
<html lang="en">

<head>
<!-- ===== MUST HAVE SEO META TAGS ===== -->
<!-- Primary Meta Tags -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Free Online PDF Editor - Edit PDF Files Online | OnlinePDFPro</title>
<meta name="description" content="Edit PDF online for free. Add text, change fonts, highlight, draw, add images, add shapes, add sticky notes. No registration needed.">
<meta name="keywords" content="pdf editor online free, edit pdf, add text to pdf, highlight pdf, draw on pdf, pdf editor no watermark">
<meta name="author" content="OnlinePDFPro">
<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
<link rel="canonical" href="https://onlinepdfpro.com/pdf-editor.html">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://onlinepdfpro.com/pdf-editor.html">
<meta property="og:title" content="Free Online PDF Editor - Edit PDF Files Online | OnlinePDFPro">
<meta property="og:description" content="Edit PDF online for free. Add text, change fonts, highlight, draw, add images, add shapes, add sticky notes. No registration needed.">
<meta property="og:image" content="https://onlinepdfpro.com/images/og-pdf-editor.png">
<meta property="og:site_name" content="OnlinePDFPro">
<meta property="og:locale" content="en_US">

<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:url" content="https://onlinepdfpro.com/pdf-editor.html">
<meta name="twitter:title" content="Free Online PDF Editor - Edit PDF Files Online | OnlinePDFPro">
<meta name="twitter:description" content="Edit PDF online for free. Add text, change fonts, highlight, draw, add images, add shapes, add sticky notes. No registration needed.">
<meta name="twitter:image" content="https://onlinepdfpro.com/images/og-pdf-editor.png">

<!-- Favicons -->
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="manifest" href="/site.webmanifest">
<meta name="theme-color" content="#2563eb">

<!-- Hreflang (if you plan multilingual) -->
<link rel="alternate" hreflang="en" href="https://onlinepdfpro.com/pdf-editor.html">
<link rel="alternate" hreflang="x-default" href="https://onlinepdfpro.com/pdf-editor.html">

<link rel="stylesheet" href="css/style.css?v=5">
    <link rel="stylesheet" href="css/mobile-fix.css">
    <link rel="stylesheet" href="css/tools.css?v=5">
    <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "PDF Editor Online Free",
    "url": "https://onlinepdfpro.com/pdf-editor.html",
    "description": "Free online PDF editor with text, images, draw, highlight and more.",
    "applicationCategory": "UtilityApplication",
    "operatingSystem": "Any",
    "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" }
  }
  </script>
    <script>
        // Sync theme with main site instantly to prevent FOUC
        const savedTheme = localStorage.getItem('doctools-theme');
        if (savedTheme === 'light' || (!savedTheme && !window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.setAttribute('data-theme', 'light');
        } else {
            document.documentElement.setAttribute('data-theme', 'dark');
        }
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .editor-layout {
            display: flex;
            height: calc(100vh - 60px);
            overflow: hidden;
        }

        /* LEFT TOOLBAR */
        .left-toolbar {
            width: 80px;
            background: var(--surface-1);
            border-right: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px 0;
            gap: 8px;
            overflow-y: auto;
        }

        .tool-btn {
            width: 60px;
            height: 60px;
            background: transparent;
            border: none;
            border-radius: 14px;
            color: var(--text-secondary);
            font-size: 22px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 4px;
        }

        .tool-btn span {
            font-size: 10px;
            font-weight: 600;
        }

        .tool-btn:hover {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
        }

        .tool-btn.active {
            background: var(--accent);
            color: white;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }

        /* TOP OPTIONS BAR */
        .top-options {
            position: absolute;
            top: 70px;
            left: 80px;
            right: 320px;
            background: var(--surface-1);
            border-bottom: 1px solid var(--border);
            padding: 12px 24px;
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
            z-index: 100;
            min-height: 60px;
        }

        .top-options label {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-secondary);
        }

        .top-options select,
        .top-options input[type="number"] {
            padding: 8px 12px;
            background: var(--bg);
            border: 1px solid var(--border);
            color: var(--text-primary);
            border-radius: 8px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.2s;
        }

        .top-options select:focus,
        .top-options input:focus {
            border-color: var(--accent);
        }

        .color-picker {
            width: 32px;
            height: 32px;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            padding: 0;
            background: transparent;
        }

        .opt-btn {
            padding: 8px 16px;
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 8px;
            color: #60a5fa;
            font-weight: 600;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .opt-btn:hover {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }

        .opt-btn.danger {
            background: rgba(239, 68, 68, 0.1);
            border-color: rgba(239, 68, 68, 0.3);
            color: #f87171;
        }

        .opt-btn.danger:hover {
            background: #ef4444;
            color: white;
            border-color: #ef4444;
        }

        /* CANVAS AREA */
        .canvas-area {
            flex: 1;
            background: var(--bg);
            overflow: auto;
            padding: 24px;
            padding-top: 85px;
            position: relative;
        }

        .page-wrapper {
            position: relative;
            display: inline-block;
            margin: 20px auto;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            background: var(--surface-1);
            border-radius: 4px;
        }

        .page-wrapper canvas {
            display: block;
        }

        .overlay-canvas {
            position: absolute;
            top: 0;
            left: 0;
            cursor: crosshair;
            z-index: 40;
        }

        /* RIGHT PANEL */
        .right-panel {
            width: 320px;
            background: var(--surface-1);
            border-left: 1px solid var(--border);
            overflow-y: auto;
            padding: 24px;
        }

        .right-panel h3 {
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-secondary);
            margin: 0 0 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border);
        }

        .page-nav {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 12px;
            margin-bottom: 30px;
        }

        .page-nav button {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            border: 1px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.2s;
        }

        .page-nav button:hover {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }

        .page-nav span {
            color: var(--text-primary);
            font-weight: 600;
            font-size: 15px;
        }

        .layers-list {
            margin: 15px 0 30px;
        }

        .layer-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 10px;
            margin: 8px 0;
            font-size: 13px;
            color: var(--text-primary);
            transition: all 0.2s;
        }

        .layer-item:hover {
            border-color: var(--accent);
        }

        .layer-delete {
            width: 26px;
            height: 26px;
            background: rgba(239, 68, 68, 0.1);
            color: #f87171;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.2s;
        }

        .layer-delete:hover {
            background: #ef4444;
            color: white;
        }

        .save-section {
            padding-top: 24px;
            border-top: 1px solid var(--border);
        }

        .save-btn {
            width: 100%;
            padding: 16px;
            font-size: 16px;
            border-radius: 12px;
            background: linear-gradient(135deg, var(--accent), var(--accent));
            color: white;
            border: none;
            cursor: pointer;
            font-weight: 700;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
            transition: all 0.3s;
        }

        .save-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.5);
        }

        /* TEXT ELEMENTS ON CANVAS */
        .text-element {
            position: absolute;
            cursor: move;
            padding: 5px 10px;
            min-width: 50px;
            outline: none;
            z-index: 50;
            border: 2px dashed transparent;
        }

        .text-element:hover {
            border-color: var(--accent);
        }

        .text-element:focus {
            border-color: var(--accent);
        }

        /* EXTRACTED TEXT (from original PDF) */
        .extracted-text {
            position: absolute;
            cursor: pointer;
            padding: 1px 2px;
            outline: none;
            z-index: 45;
            border: 1px solid transparent;
            background: transparent;
            color: transparent;
            line-height: 1.15;
            white-space: pre;
            transition: background 0.15s, border-color 0.15s;
            border-radius: 2px;
            user-select: none;
        }

        .extracted-text:hover {
            background: rgba(99, 102, 241, 0.08);
            border-color: rgba(99, 102, 241, 0.3);
            cursor: pointer;
        }

        .extracted-text.modified {
            border-bottom: 2px solid #22c55e;
            background: rgba(34, 197, 94, 0.06);
        }

        .extracted-text.editing {
            background: rgba(99, 102, 241, 0.12);
            border: 2px solid var(--accent, #6366f1);
        }

        /* FLOATING EDIT POPUP - fixed to viewport */
        .edit-popup {
            position: fixed;
            z-index: 10000;
            background: var(--surface-1, #fff);
            border: 2px solid var(--accent, #6366f1);
            border-radius: 12px;
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3);
            padding: 14px;
            display: none;
            width: 400px;
            max-width: 90vw;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .edit-popup.active {
            display: block;
            animation: popupIn 0.15s ease-out;
        }

        @keyframes popupIn {
            from {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.95);
            }

            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        .edit-popup-label {
            font-size: 12px;
            color: var(--text-muted, #71717a);
            margin-bottom: 8px;
            font-weight: 600;
        }

        .edit-popup input {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid var(--border, rgba(0, 0, 0, 0.1));
            border-radius: 8px;
            font-size: 15px;
            background: var(--bg, #fafafa);
            color: var(--text-primary, #09090b);
            outline: none;
            font-family: inherit;
        }

        .edit-popup input:focus {
            border-color: var(--accent, #6366f1);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.15);
        }

        .edit-popup-actions {
            display: flex;
            gap: 8px;
            margin-top: 10px;
            justify-content: flex-end;
        }

        .edit-popup-actions button {
            padding: 7px 16px;
            border-radius: 8px;
            border: none;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.15s;
        }

        .edit-popup-save {
            background: var(--accent, #6366f1);
            color: white;
        }

        .edit-popup-save:hover {
            opacity: 0.9;
        }

        .edit-popup-cancel {
            background: var(--surface-3, #e4e4e7);
            color: var(--text-primary, #09090b);
        }

        .edit-popup-cancel:hover {
            opacity: 0.8;
        }

        .edit-popup-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.3);
            z-index: 9999;
            display: none;
        }

        .edit-popup-backdrop.active {
            display: block;
        }

        /* IMAGE ELEMENTS */
        .image-element {
            position: absolute;
            cursor: move;
            z-index: 50;
            border: 2px dashed transparent;
        }

        .image-element:hover {
            border-color: var(--accent);
        }

        .image-element img {
            max-width: 100%;
            display: block;
        }

        .img-resize {
            width: 14px;
            height: 14px;
            background: #2563eb;
            position: absolute;
            bottom: -7px;
            right: -7px;
            cursor: se-resize;
            border-radius: 50%;
        }

        .img-delete {
            position: absolute;
            top: -12px;
            right: -12px;
            width: 28px;
            height: 28px;
            background: #ef4444;
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-weight: bold;
            font-size: 14px;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .image-element:hover .img-delete {
            display: flex;
        }

        /* STICKY NOTES */
        .sticky-note {
            position: absolute;
            width: 200px;
            min-height: 100px;
            background: #fef3c7;
            border-radius: 8px;
            padding: 10px;
            cursor: move;
            z-index: 60;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
            font-size: 14px;
            border: 2px solid #fde68a;
        }

        .sticky-note textarea {
            width: 100%;
            min-height: 60px;
            border: none;
            background: transparent;
            font-size: 14px;
            resize: none;
            outline: none;
            font-family: inherit;
        }

        .sticky-delete {
            position: absolute;
            top: 5px;
            right: 5px;
            width: 22px;
            height: 22px;
            background: #ef4444;
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 12px;
        }

        /* SHAPES */
        .shape-element {
            position: absolute;
            cursor: move;
            z-index: 45;
            border: 2px dashed transparent;
        }

        .shape-element:hover {
            border-color: var(--accent);
        }

        /* MOBILE */
        @media (max-width: 768px) {
            .editor-layout {
                flex-direction: column;
                height: auto;
            }

            .left-toolbar {
                width: 100%;
                flex-direction: row;
                overflow-x: auto;
                padding: 5px;
            }

            .tool-btn {
                width: 48px;
                height: 48px;
                font-size: 18px;
            }

            .tool-btn span {
                display: none;
            }

            .right-panel {
                width: 100%;
                border-left: none;
                border-top: 2px solid #e2e8f0;
            }

            .top-options {
                left: 0;
                right: 0;
                top: auto;
                position: relative;
            }

            .canvas-area {
                padding-top: 20px;
            }
        }
    </style>

    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">

    <style>
        .upload-area {
            border: 3px dashed #cbd5e1;
            border-radius: 24px;
            padding: 60px 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: var(--surface-1);
            color: #333;
        }
        .upload-area:hover {
            border-color: var(--accent);
            background: #f0f9ff;
        }
        .container {
            max-width: 1120px;
            margin: 0 auto;
            padding: 0 20px;
        }
        body {
            color: #333 !important;
        }
        header {
            background: #1e293b !important;
        }
        header h1, header h1 a {
            color: white !important;
        }
    </style>

    <!-- Microsoft Clarity -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "YOUR_CLARITY_ID");
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- MOBILE FIX - Add this RIGHT BEFORE </head> tag -->
</head>

<body>
    <a href="#main" class="skip-link">Skip to main content</a>

    <header class="header">
        <div class="header-content">
            <a href="index.html" class="logo">
                <span class="logo-icon">üìÑ</span>
                <span class="logo-text">OnlinePDFPro</span>
            </a>
            <nav class="nav" id="nav">
                <a href="tools.html" class="nav-link">All Tools</a>
                <a href="about.html" class="nav-link">About</a>
                <a href="help.html" class="nav-link">Help</a>
                <a href="https://mail.google.com/mail/?view=cm&fs=1&to=prem0734raj@gmail.com&su=OnlinePDFPro%20Feedback" class="nav-link" target="_blank" rel="noopener">Feedback</a>
            </nav>
            <div class="header-actions">
                <button class="mobile-search-toggle" id="mobileSearchToggle" aria-label="Search tools">üîç</button>
                <div class="header-search" style="position: relative; margin-right: 8px;">
                    <span style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); font-size: 0.9rem; opacity: 0.5;">üîç</span>
                    <input type="text" id="globalToolSearch" placeholder="Search tools..."
                        style="padding: 8px 12px 8px 32px; border-radius: 20px; border: 1px solid var(--border, #e2e8f0); background: var(--bg-primary, #fff); color: var(--text-primary, #1a1a2e); font-size: 0.85rem; width: 180px; outline: none;">
                </div>
                <div class="lang-selector">
                    <button class="lang-btn" aria-label="Change language" title="Change language"><svg width="18"
                            height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path
                                d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z">
                            </path>
                            <path d="M2 12h20"></path>
                        </svg></button>
                    <div class="lang-dropdown">
                        <div class="lang-search-wrap">
                            <input type="text" class="lang-search" placeholder="Search language...">
                        </div>
                        <ul class="lang-list"></ul>
                    </div>
                </div>
                <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode" style="font-size:20px; background:none; border:1px solid var(--border, #e2e8f0); border-radius:50%; width:36px; height:36px; display:flex; align-items:center; justify-content:center; cursor:pointer; transition:all 0.2s;">
                    <span class="theme-icon-light">üåô</span>
                    <span class="theme-icon-dark" style="display:none;">‚òÄÔ∏è</span>
                </button>
                <button class="menu-toggle" id="menuToggle" aria-label="Menu">‚ò∞</button>
            </div>
        </div>
    </header>
    <div class="mobile-search-bar" id="mobileSearchBar">
        <input type="text" id="mobileToolSearch" placeholder="Search tools..." autocomplete="off">
        <button class="mobile-search-close" id="mobileSearchClose" aria-label="Close search">‚úï</button>
    </div>

    <main class="tool-page">
        
    
    <div class="tool-header" style="text-align:center; margin-bottom:48px;">
        <span class="section-tag" style="display:inline-block; padding:6px 18px; background:rgba(37,99,235,0.08); color:#5b6abf; border-radius:50px; font-size:0.75rem; font-weight:700; text-transform:uppercase; letter-spacing:1px; margin-bottom:16px;">Document Editing</span>
        <h1 class="tool-title" style="font-size:2.5rem; font-weight:800; color:#1a1a2e; margin:0 0 12px; line-height:1.2;">PDF Editor</h1>
        <p class="tool-description" style="color:#6b7280; font-size:1rem; max-width:520px; margin:0 auto; line-height:1.6;">Edit text, add images, annotate, and modify PDF files online. No software download needed.</p>
    </div>
<!-- EDIT POPUP (fixed to viewport center) -->
    <div class="edit-popup-backdrop" id="editBackdrop" onclick="closeEditPopup()"></div>
    <div class="edit-popup" id="editPopup">
        <div class="edit-popup-label">‚úçÔ∏è Edit text (Enter to save, Esc to cancel)</div>
        <input type="text" id="editPopupInput" autocomplete="off" spellcheck="false">
        <div class="edit-popup-actions">
            <button class="edit-popup-cancel" onclick="closeEditPopup()">Cancel</button>
            <button class="edit-popup-save" onclick="saveEditPopup()">‚úì Save</button>
        </div>
    </div>

    <input type="file" id="fileInput" accept=".pdf" hidden />
    <input type="file" id="imageInput" accept="image/*" hidden />

    <div class="editor-layout" id="editorLayout" style="display:none;">

        <!-- LEFT TOOLBAR -->
        <div class="left-toolbar">
            <button class="tool-btn" onclick="setTool('cursor', event)" title="Select & Move">
                üñ±Ô∏è<span>Select</span>
            </button>
            <button class="tool-btn active" onclick="setTool('edit', event)" title="Edit Existing Text">
                ‚úçÔ∏è<span>Edit</span>
            </button>
            <button class="tool-btn" onclick="setTool('text', event)" title="Add New Text">
                üî§<span>Text</span>
            </button>
            <button class="tool-btn" onclick="setTool('draw', event)" title="Free Draw">
                ‚úèÔ∏è<span>Draw</span>
            </button>
            <button class="tool-btn" onclick="setTool('highlight', event)" title="Highlight">
                üü°<span>Highlight</span>
            </button>
            <button class="tool-btn" onclick="setTool('eraser', event)" title="Eraser">
                üßπ<span>Eraser</span>
            </button>
            <button class="tool-btn" onclick="setTool('image', event)" title="Add Image">
                üñºÔ∏è<span>Image</span>
            </button>
            <button class="tool-btn" onclick="setTool('shape', event)" title="Add Shape">
                ‚¨ú<span>Shape</span>
            </button>
            <button class="tool-btn" onclick="setTool('sticky', event)" title="Sticky Note">
                üìù<span>Note</span>
            </button>
            <button class="tool-btn" onclick="setTool('line', event)" title="Draw Line">
                üìè<span>Line</span>
            </button>
            <button class="tool-btn" onclick="setTool('arrow', event)" title="Draw Arrow">
                ‚û°Ô∏è<span>Arrow</span>
            </button>
            <button class="tool-btn" onclick="setTool('strikethrough', event)" title="Strikethrough">
                üìï<span>Strike</span>
            </button>
            <button class="tool-btn" onclick="setTool('underline', event)" title="Underline">
                üìò<span>Under</span>
            </button>
            <button class="tool-btn" onclick="undoAction()" title="Undo">
                ‚Ü©Ô∏è<span>Undo</span>
            </button>
            <button class="tool-btn" onclick="redoAction()" title="Redo">
                ‚Ü™Ô∏è<span>Redo</span>
            </button>
        </div>

        <!-- TOP OPTIONS BAR -->
        <div class="top-options" id="topOptions">
            <label>Font:</label>
            <select id="fontFamily" onchange="updateTextStyle()">
                <option value="Arial">Arial</option>
                <option value="Times New Roman">Times New Roman</option>
                <option value="Courier New">Courier New</option>
                <option value="Georgia">Georgia</option>
                <option value="Verdana">Verdana</option>
                <option value="cursive">Cursive</option>
                <option value="Comic Sans MS">Comic Sans</option>
                <option value="Impact">Impact</option>
            </select>
            <label>Size:</label>
            <input type="number" id="fontSize" value="18" min="8" max="120" style="width:70px;"
                onchange="updateTextStyle()">
            <label>Color:</label>
            <input type="color" id="fontColor" value="#000000" class="color-picker" onchange="updateTextStyle()">
            <label>Stroke:</label>
            <input type="number" id="strokeWidth" value="3" min="1" max="30" style="width:60px;">
            <label>Stroke Color:</label>
            <input type="color" id="strokeColor" value="#ff0000" class="color-picker">
            <label>Opacity:</label>
            <input type="number" id="opacity" value="100" min="10" max="100" step="10" style="width:65px;">
            <button class="opt-btn" onclick="makeBold()" title="Bold"><b>B</b></button>
            <button class="opt-btn" onclick="makeItalic()" title="Italic"><i>I</i></button>
            <button class="opt-btn" onclick="makeUnderlineText()" title="Underline"><u>U</u></button>
            <button class="opt-btn danger" onclick="clearOverlay()">Clear Page</button>
        </div>

        <!-- CANVAS AREA -->
        <div class="canvas-area" id="canvasArea">
            <div class="page-wrapper" id="pageWrapper">
                <canvas id="pdfCanvas"></canvas>
                <canvas id="overlayCanvas" class="overlay-canvas"></canvas>
            </div>
        </div>

        <!-- RIGHT PANEL -->
        <div class="right-panel">
            <h3>üìÑ Pages</h3>
            <div class="page-nav">
                <button onclick="prevPage()">‚Üê</button>
                <span id="pageInfo">1 / 1</span>
                <button onclick="nextPage()">‚Üí</button>
            </div>

            <h3>üîç Zoom</h3>
            <div style="display:flex; gap:10px; margin-bottom:20px;">
                <button onclick="zoomOut()"
                    style="flex:1; padding:8px; background: var(--surface-3); color: var(--text-primary); border:1px solid var(--border); border-radius:8px; cursor:pointer; font-size:18px; transition: all 0.2s;">‚ûñ</button>
                <span id="zoomLevel"
                    style="flex:1; text-align:center; line-height:40px; font-weight:bold; color: var(--text-primary);">150%</span>
                <button onclick="zoomIn()"
                    style="flex:1; padding:8px; background: var(--surface-3); color: var(--text-primary); border:1px solid var(--border); border-radius:8px; cursor:pointer; font-size:18px; transition: all 0.2s;">‚ûï</button>
            </div>

            <h3>üìã Layers</h3>
            <div class="layers-list" id="layersList"></div>

            <div class="save-section">
                <button onclick="savePDF()" class="save-btn">üíæ Save & Download PDF</button>
            </div>
        </div>

    </div>

    <!-- FLOATING EDIT POPUP -->
    <div class="edit-popup" id="editPopup">
        <div class="edit-popup-label">‚úçÔ∏è Edit text (Enter to save)</div>
        <input type="text" id="editPopupInput" autocomplete="off" spellcheck="false">
        <div class="edit-popup-actions">
            <button class="edit-popup-cancel" onclick="closeEditPopup()">Cancel</button>
            <button class="edit-popup-save" onclick="saveEditPopup()">‚úì Save</button>
        </div>
    </div>

    <!-- UPLOAD SCREEN -->
    <div id="uploadScreen" class="container"
        style="margin-top: 0; display: flex; align-items: center; justify-content: center; height: calc(100vh - 70px);">
        <div class="upload-area" id="dropArea"
            style="max-width: 760px; width: 100%; margin: 0 auto; padding: 60px 40px; text-align: center; border: 2px dashed var(--border); border-radius: 24px; background: var(--surface-1); cursor: pointer; transition: all 0.3s ease; box-shadow: 0 10px 30px rgba(0,0,0,0.2);">
            <div
                style="width: 80px; height: 80px; background: rgba(59, 130, 246, 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 24px;">
                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                    <polyline points="17 8 12 3 7 8"></polyline>
                    <line x1="12" y1="3" x2="12" y2="15"></line>
                </svg>
            </div>
            <p
                style="font-size: 28px; color: var(--text-primary); font-weight: 700; margin-bottom: 12px; font-family: 'Outfit', sans-serif;">
                Drop your PDF here or Click to Upload</p>
            <p style="font-size: 16px; color: var(--text-secondary); margin-bottom: 40px;">Edit text, add images, draw,
                highlight, shapes ‚Äî all for FREE</p>

            <div style="display: flex; flex-wrap: wrap; gap: 12px; justify-content: center;">
                <span
                    style="padding: 8px 16px; background: rgba(59, 130, 246, 0.1); border: 1px solid rgba(59, 130, 246, 0.2); border-radius: 20px; font-size: 13px; color: #60a5fa; font-weight: 600;">‚úèÔ∏è
                    Add Text</span>
                <span
                    style="padding: 8px 16px; background: rgba(245, 158, 11, 0.1); border: 1px solid rgba(245, 158, 11, 0.2); border-radius: 20px; font-size: 13px; color: #fbbf24; font-weight: 600;">üü°
                    Highlight</span>
                <span
                    style="padding: 8px 16px; background: rgba(16, 185, 129, 0.1); border: 1px solid rgba(16, 185, 129, 0.2); border-radius: 20px; font-size: 13px; color: #34d399; font-weight: 600;">üñºÔ∏è
                    Add Images</span>
                <span
                    style="padding: 8px 16px; background: rgba(236, 72, 153, 0.1); border: 1px solid rgba(236, 72, 153, 0.2); border-radius: 20px; font-size: 13px; color: #f472b6; font-weight: 600;">üé®
                    Free Draw</span>
                <span
                    style="padding: 8px 16px; background: rgba(139, 92, 246, 0.1); border: 1px solid rgba(139, 92, 246, 0.2); border-radius: 20px; font-size: 13px; color: #a78bfa; font-weight: 600;">üìù
                    Sticky Notes</span>
                <span
                    style="padding: 8px 16px; background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.2); border-radius: 20px; font-size: 13px; color: #f87171; font-weight: 600;">‚¨ú
                    Shapes</span>
            </div>
        </div>
    </div>

    <script defer src="https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/build/pdf.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/downloadjs@1.4.8/download.min.js"></script>

    <script>
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/build/pdf.worker.min.js';

        let pdfDoc = null;
        let pdfBytes = null;
        let currentPage = 1;
        let totalPages = 0;
        let currentScale = 1.5;
        let currentTool = 'edit';
        let isDrawing = false;
        let layers = {};
        let undoStack = [];
        let redoStack = [];
        let extractedTexts = {};  // page -> [{originalText, element, ...}]

        // Elements
        const pdfCanvas = document.getElementById('pdfCanvas');
        const overlayCanvas = document.getElementById('overlayCanvas');
        const ctx = overlayCanvas.getContext('2d');
        const pageWrapper = document.getElementById('pageWrapper');

        // File upload
        document.getElementById('uploadBtn').onclick = () => document.getElementById('fileInput').click();
        document.getElementById('dropArea').onclick = () => document.getElementById('fileInput').click();
        document.getElementById('fileInput').onchange = e => loadPDF(e.target.files[0]);

        document.getElementById('dropArea').ondragover = e => { e.preventDefault(); };
        document.getElementById('dropArea').ondrop = e => {
            e.preventDefault();
            loadPDF(e.dataTransfer.files[0]);
        };

        async function loadPDF(file) {
            if (!file) return;
            pdfBytes = await file.arrayBuffer();
            pdfDoc = await pdfjsLib.getDocument({ data: pdfBytes }).promise;
            totalPages = pdfDoc.numPages;
            currentPage = 1;

            // Initialize layers for each page
            for (let i = 1; i <= totalPages; i++) {
                if (!layers[i]) layers[i] = { drawings: [], elements: [] };
            }

            document.getElementById('uploadScreen').style.display = 'none';
            document.getElementById('editorLayout').style.display = 'flex';

            await renderPage();
        }

        async function renderPage() {
            const page = await pdfDoc.getPage(currentPage);
            const viewport = page.getViewport({ scale: currentScale });

            pdfCanvas.width = viewport.width;
            pdfCanvas.height = viewport.height;
            overlayCanvas.width = viewport.width;
            overlayCanvas.height = viewport.height;

            await page.render({ canvasContext: pdfCanvas.getContext('2d'), viewport }).promise;

            // Restore drawings for this page
            restoreDrawings();

            // Extract existing text from PDF for editing
            await extractPageContent(page, viewport);

            document.getElementById('pageInfo').textContent = currentPage + ' / ' + totalPages;
            document.getElementById('zoomLevel').textContent = Math.round(currentScale * 100) + '%';
            updateLayers();
        }

        // =============================================
        // EXTRACT EXISTING TEXT FROM PDF
        // =============================================
        async function extractPageContent(page, viewport) {
            // Remove any previously extracted text for this page
            pageWrapper.querySelectorAll('.extracted-text').forEach(el => el.remove());

            const textContent = await page.getTextContent();
            const textItems = textContent.items;
            const textStyles = textContent.styles || {};
            if (!extractedTexts[currentPage]) extractedTexts[currentPage] = [];

            // Group text items into lines (items with same Y position)
            const lines = [];
            let currentLine = null;

            textItems.forEach(item => {
                if (!item.str || !item.str.trim()) return;

                const tx = pdfjsLib.Util.transform(viewport.transform, item.transform);
                const fontSize = Math.sqrt(tx[0] * tx[0] + tx[1] * tx[1]);
                const x = tx[4];
                const y = tx[5];

                // Group items with similar Y position into one line
                if (currentLine && Math.abs(y - currentLine.y) < fontSize * 0.5) {
                    currentLine.text += item.str;
                    currentLine.width = (x + item.width * fontSize / (item.transform ? Math.abs(item.transform[0]) : 1)) - currentLine.x;
                    currentLine.items.push(item);
                } else {
                    currentLine = {
                        text: item.str,
                        x: x,
                        y: y,
                        fontSize: fontSize,
                        width: item.width * fontSize / (item.transform ? Math.abs(item.transform[0]) : 1),
                        height: fontSize * 1.2,
                        fontName: item.fontName || '',
                        items: [item]
                    };
                    lines.push(currentLine);
                }
            });

            // Check for previously modified texts
            const savedMods = extractedTexts[currentPage] || [];

            lines.forEach((line, idx) => {
                const div = document.createElement('div');
                div.className = 'extracted-text';
                div.style.left = line.x + 'px';
                div.style.top = (line.y - line.fontSize) + 'px';
                div.style.fontSize = line.fontSize + 'px';
                div.style.minWidth = Math.max(line.width, 30) + 'px';
                div.style.height = line.height + 'px';

                // Store data
                div.dataset.lineIndex = idx;
                div.dataset.originalText = line.text;
                div.dataset.currentText = line.text;
                div.dataset.origX = line.x;
                div.dataset.origY = line.y;
                div.dataset.origFontSize = line.fontSize;
                div.dataset.origWidth = line.width;
                div.dataset.origHeight = line.height;
                div.textContent = line.text;

                // Restore modified text if it was previously edited
                const savedMod = savedMods.find(m => m.lineIndex === idx);
                if (savedMod && savedMod.newText !== line.text) {
                    div.dataset.currentText = savedMod.newText;
                    div.classList.add('modified');
                }

                // Click to open edit popup
                div.addEventListener('click', (e) => {
                    if (currentTool !== 'edit') return;
                    e.stopPropagation();
                    openEditPopup(div);
                });

                pageWrapper.appendChild(div);
            });
        }

        // =============================================
        // EDIT POPUP LOGIC
        // =============================================
        let activeEditTarget = null;

        function openEditPopup(el) {
            activeEditTarget = el;
            const popup = document.getElementById('editPopup');
            const backdrop = document.getElementById('editBackdrop');
            const input = document.getElementById('editPopupInput');

            // Pre-fill with current text
            input.value = el.dataset.currentText || el.dataset.originalText;

            // Show backdrop + popup (centered via CSS)
            backdrop.classList.add('active');
            popup.classList.add('active');

            // Highlight the text being edited
            el.classList.add('editing');

            // Focus and select all
            setTimeout(() => { input.focus(); input.select(); }, 50);
        }

        function closeEditPopup() {
            const popup = document.getElementById('editPopup');
            const backdrop = document.getElementById('editBackdrop');
            popup.classList.remove('active');
            backdrop.classList.remove('active');

            if (activeEditTarget) {
                activeEditTarget.classList.remove('editing');
                activeEditTarget = null;
            }
        }

        function saveEditPopup() {
            if (!activeEditTarget) return;
            const input = document.getElementById('editPopupInput');
            const newText = input.value.trim();
            const el = activeEditTarget;
            const idx = parseInt(el.dataset.lineIndex);
            const origText = el.dataset.originalText;

            if (newText && newText !== origText) {
                el.dataset.currentText = newText;
                el.classList.add('modified');

                // Save modification
                if (!extractedTexts[currentPage]) extractedTexts[currentPage] = [];
                const existingIdx = extractedTexts[currentPage].findIndex(m => m.lineIndex === idx);
                const mod = {
                    lineIndex: idx,
                    originalText: origText,
                    newText: newText,
                    x: parseFloat(el.dataset.origX),
                    y: parseFloat(el.dataset.origY),
                    fontSize: parseFloat(el.dataset.origFontSize),
                    width: parseFloat(el.dataset.origWidth),
                    height: parseFloat(el.dataset.origHeight)
                };
                if (existingIdx >= 0) {
                    extractedTexts[currentPage][existingIdx] = mod;
                } else {
                    extractedTexts[currentPage].push(mod);
                }
            } else if (newText === origText) {
                el.dataset.currentText = origText;
                el.classList.remove('modified');
                extractedTexts[currentPage] = (extractedTexts[currentPage] || []).filter(m => m.lineIndex !== idx);
            }

            closeEditPopup();
            updateLayers();
        }

        // Enter key in popup saves
        document.getElementById('editPopupInput').addEventListener('keydown', (e) => {
            if (e.key === 'Enter') { e.preventDefault(); saveEditPopup(); }
            if (e.key === 'Escape') { e.preventDefault(); closeEditPopup(); }
        });

        function restoreDrawings() {
            const pageLayer = layers[currentPage];
            if (!pageLayer) return;

            ctx.clearRect(0, 0, overlayCanvas.width, overlayCanvas.height);

            pageLayer.drawings.forEach(drawing => {
                if (drawing.type === 'path') {
                    ctx.beginPath();
                    ctx.strokeStyle = drawing.color;
                    ctx.lineWidth = drawing.width;
                    ctx.lineCap = 'round';
                    ctx.globalAlpha = drawing.opacity;
                    drawing.points.forEach((point, i) => {
                        if (i === 0) ctx.moveTo(point.x, point.y);
                        else ctx.lineTo(point.x, point.y);
                    });
                    ctx.stroke();
                    ctx.globalAlpha = 1;
                } else if (drawing.type === 'line') {
                    ctx.beginPath();
                    ctx.strokeStyle = drawing.color;
                    ctx.lineWidth = drawing.width;
                    ctx.moveTo(drawing.x1, drawing.y1);
                    ctx.lineTo(drawing.x2, drawing.y2);
                    ctx.stroke();
                } else if (drawing.type === 'arrow') {
                    drawArrow(ctx, drawing.x1, drawing.y1, drawing.x2, drawing.y2, drawing.color, drawing.width);
                } else if (drawing.type === 'rect') {
                    ctx.strokeStyle = drawing.color;
                    ctx.lineWidth = drawing.width;
                    ctx.strokeRect(drawing.x, drawing.y, drawing.w, drawing.h);
                } else if (drawing.type === 'highlight') {
                    ctx.fillStyle = drawing.color;
                    ctx.globalAlpha = 0.3;
                    ctx.fillRect(drawing.x, drawing.y, drawing.w, drawing.h);
                    ctx.globalAlpha = 1;
                }
            });
        }

        function drawArrow(ctx, x1, y1, x2, y2, color, width) {
            const headLength = 15;
            const angle = Math.atan2(y2 - y1, x2 - x1);
            ctx.beginPath();
            ctx.strokeStyle = color;
            ctx.lineWidth = width;
            ctx.moveTo(x1, y1);
            ctx.lineTo(x2, y2);
            ctx.stroke();
            ctx.beginPath();
            ctx.fillStyle = color;
            ctx.moveTo(x2, y2);
            ctx.lineTo(x2 - headLength * Math.cos(angle - Math.PI / 6), y2 - headLength * Math.sin(angle - Math.PI / 6));
            ctx.lineTo(x2 - headLength * Math.cos(angle + Math.PI / 6), y2 - headLength * Math.sin(angle + Math.PI / 6));
            ctx.closePath();
            ctx.fill();
        }

        // Tool selection
        function setTool(tool, e) {
            currentTool = tool;
            document.querySelectorAll('.tool-btn').forEach(b => b.classList.remove('active'));
            if (e && e.target) {
                const btn = e.target.closest('.tool-btn');
                if (btn) btn.classList.add('active');
            }

            // Key fix: disable overlay canvas pointer-events for cursor/text tools
            // so users can click on existing text elements to edit them
            const needsCanvasEvents = ['draw', 'highlight', 'eraser', 'line', 'arrow', 'shape', 'strikethrough', 'underline'];
            if (needsCanvasEvents.includes(tool)) {
                overlayCanvas.style.pointerEvents = 'auto';
                overlayCanvas.style.cursor = tool === 'eraser' ? 'cell' : 'crosshair';
            } else if (tool === 'text') {
                // Text tool: overlay canvas captures clicks to create NEW text,
                // but existing text elements (z-index:50) sit above it (z-index:40)
                overlayCanvas.style.pointerEvents = 'auto';
                overlayCanvas.style.cursor = 'text';
            } else {
                // cursor, sticky, image, edit ‚Äî let clicks pass through to DOM elements
                overlayCanvas.style.pointerEvents = 'none';
                overlayCanvas.style.cursor = 'default';
            }

            // Toggle extracted text visibility when edit tool is active
            const extractedEls = pageWrapper.querySelectorAll('.extracted-text');
            if (tool === 'edit') {
                extractedEls.forEach(el => {
                    el.style.pointerEvents = 'auto';
                    el.style.borderColor = 'rgba(99, 102, 241, 0.15)';
                });
            } else {
                extractedEls.forEach(el => {
                    if (!el.classList.contains('modified')) {
                        el.style.pointerEvents = 'none';
                        el.style.borderColor = 'transparent';
                    }
                });
            }

            if (tool === 'image') {
                document.getElementById('imageInput').click();
            }
        }

        // Image upload
        document.getElementById('imageInput').onchange = e => {
            const file = e.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = ev => {
                addImageElement(ev.target.result, 100, 100, 200);
            };
            reader.readAsDataURL(file);
        };

        function addImageElement(src, x, y, width) {
            const div = document.createElement('div');
            div.className = 'image-element';
            div.style.left = x + 'px';
            div.style.top = y + 'px';
            div.style.width = width + 'px';
            div.innerHTML = '<img loading="lazy" src="' + src + '"><div class="img-resize"></div><button class="img-delete" onclick="this.parentElement.remove(); updateLayers();">√ó</button>';
            pageWrapper.appendChild(div);
            makeDraggable(div);
            makeImgResizable(div);
            updateLayers();
            saveState();
        }

        // Canvas mouse events
        let startX, startY, currentPath = [];

        overlayCanvas.onmousedown = e => {
            const rect = overlayCanvas.getBoundingClientRect();
            startX = e.clientX - rect.left;
            startY = e.clientY - rect.top;
            isDrawing = true;
            currentPath = [{ x: startX, y: startY }];

            if (currentTool === 'text') {
                isDrawing = false;
                addTextElement(startX, startY);
            } else if (currentTool === 'sticky') {
                isDrawing = false;
                addStickyNote(startX, startY);
            } else if (currentTool === 'shape') {
                // Will draw on mouseup
            }
        };

        overlayCanvas.onmousemove = e => {
            if (!isDrawing) return;
            const rect = overlayCanvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;

            if (currentTool === 'draw') {
                ctx.beginPath();
                ctx.strokeStyle = document.getElementById('strokeColor').value;
                ctx.lineWidth = parseInt(document.getElementById('strokeWidth').value);
                ctx.lineCap = 'round';
                ctx.globalAlpha = parseInt(document.getElementById('opacity').value) / 100;
                ctx.moveTo(currentPath[currentPath.length - 1].x, currentPath[currentPath.length - 1].y);
                ctx.lineTo(x, y);
                ctx.stroke();
                ctx.globalAlpha = 1;
                currentPath.push({ x, y });
            } else if (currentTool === 'highlight') {
                restoreDrawings();
                ctx.fillStyle = '#ffff00';
                ctx.globalAlpha = 0.3;
                ctx.fillRect(startX, startY, x - startX, y - startY);
                ctx.globalAlpha = 1;
            } else if (currentTool === 'eraser') {
                ctx.clearRect(x - 15, y - 15, 30, 30);
            } else if (currentTool === 'line' || currentTool === 'arrow') {
                restoreDrawings();
                if (currentTool === 'line') {
                    ctx.beginPath();
                    ctx.strokeStyle = document.getElementById('strokeColor').value;
                    ctx.lineWidth = parseInt(document.getElementById('strokeWidth').value);
                    ctx.moveTo(startX, startY);
                    ctx.lineTo(x, y);
                    ctx.stroke();
                } else {
                    drawArrow(ctx, startX, startY, x, y, document.getElementById('strokeColor').value, parseInt(document.getElementById('strokeWidth').value));
                }
            } else if (currentTool === 'shape') {
                restoreDrawings();
                ctx.strokeStyle = document.getElementById('strokeColor').value;
                ctx.lineWidth = parseInt(document.getElementById('strokeWidth').value);
                ctx.strokeRect(startX, startY, x - startX, y - startY);
            }
        };

        overlayCanvas.onmouseup = e => {
            if (!isDrawing) return;
            isDrawing = false;
            const rect = overlayCanvas.getBoundingClientRect();
            const endX = e.clientX - rect.left;
            const endY = e.clientY - rect.top;

            if (!layers[currentPage]) layers[currentPage] = { drawings: [], elements: [] };

            if (currentTool === 'draw' && currentPath.length > 1) {
                layers[currentPage].drawings.push({
                    type: 'path',
                    points: [...currentPath],
                    color: document.getElementById('strokeColor').value,
                    width: parseInt(document.getElementById('strokeWidth').value),
                    opacity: parseInt(document.getElementById('opacity').value) / 100
                });
            } else if (currentTool === 'highlight') {
                layers[currentPage].drawings.push({
                    type: 'highlight',
                    x: startX, y: startY,
                    w: endX - startX, h: endY - startY,
                    color: '#ffff00'
                });
            } else if (currentTool === 'line') {
                layers[currentPage].drawings.push({
                    type: 'line',
                    x1: startX, y1: startY, x2: endX, y2: endY,
                    color: document.getElementById('strokeColor').value,
                    width: parseInt(document.getElementById('strokeWidth').value)
                });
            } else if (currentTool === 'arrow') {
                layers[currentPage].drawings.push({
                    type: 'arrow',
                    x1: startX, y1: startY, x2: endX, y2: endY,
                    color: document.getElementById('strokeColor').value,
                    width: parseInt(document.getElementById('strokeWidth').value)
                });
            } else if (currentTool === 'shape') {
                layers[currentPage].drawings.push({
                    type: 'rect',
                    x: startX, y: startY,
                    w: endX - startX, h: endY - startY,
                    color: document.getElementById('strokeColor').value,
                    width: parseInt(document.getElementById('strokeWidth').value)
                });
            }

            updateLayers();
            saveState();
        };

        // Touch support
        overlayCanvas.ontouchstart = e => {
            e.preventDefault();
            const touch = e.touches[0];
            overlayCanvas.onmousedown({ clientX: touch.clientX, clientY: touch.clientY });
        };
        overlayCanvas.ontouchmove = e => {
            e.preventDefault();
            const touch = e.touches[0];
            overlayCanvas.onmousemove({ clientX: touch.clientX, clientY: touch.clientY });
        };
        overlayCanvas.ontouchend = e => {
            e.preventDefault();
            overlayCanvas.onmouseup({ clientX: startX, clientY: startY });
        };

        // Add text element
        function addTextElement(x, y) {
            const div = document.createElement('div');
            div.className = 'text-element';
            div.contentEditable = true;
            div.style.left = x + 'px';
            div.style.top = y + 'px';
            div.style.fontFamily = document.getElementById('fontFamily').value;
            div.style.fontSize = document.getElementById('fontSize').value + 'px';
            div.style.color = document.getElementById('fontColor').value;
            div.style.zIndex = '50';
            div.textContent = 'Type here...';
            pageWrapper.appendChild(div);
            div.focus();
            document.execCommand('selectAll');
            makeDraggable(div);

            // Double-click to edit text, single click in cursor mode to drag
            div.ondblclick = (e) => {
                e.stopPropagation();
                div.focus();
                document.execCommand('selectAll');
            };

            updateLayers();
            saveState();
        }

        function updateTextStyle() {
            const focused = document.querySelector('.text-element:focus');
            if (focused) {
                focused.style.fontFamily = document.getElementById('fontFamily').value;
                focused.style.fontSize = document.getElementById('fontSize').value + 'px';
                focused.style.color = document.getElementById('fontColor').value;
            }
        }

        function makeBold() {
            document.execCommand('bold');
        }
        function makeItalic() {
            document.execCommand('italic');
        }
        function makeUnderlineText() {
            document.execCommand('underline');
        }

        // Add sticky note
        function addStickyNote(x, y) {
            const note = document.createElement('div');
            note.className = 'sticky-note';
            note.style.left = x + 'px';
            note.style.top = y + 'px';
            note.innerHTML = '<button class="sticky-delete" onclick="this.parentElement.remove(); updateLayers();">√ó</button><textarea placeholder="Write your note..."></textarea>';
            pageWrapper.appendChild(note);
            makeDraggable(note);
            note.querySelector('textarea').focus();
            updateLayers();
            saveState();
        }

        // Make elements draggable
        function makeDraggable(el) {
            let px = 0, py = 0;
            el.onmousedown = e => {
                // Don't drag if clicking on interactive child elements
                if (e.target.tagName === 'TEXTAREA' || e.target.tagName === 'BUTTON' || e.target.classList.contains('img-resize') || e.target.classList.contains('img-delete')) return;

                // If this is a text element and we're NOT in cursor mode, allow normal text editing
                if (el.contentEditable === 'true' && currentTool !== 'cursor') {
                    return; // Let the browser handle text selection/editing naturally
                }

                // In cursor mode, drag the element
                e.preventDefault();
                px = e.clientX;
                py = e.clientY;
                document.onmousemove = ev => {
                    el.style.left = (el.offsetLeft + ev.clientX - px) + 'px';
                    el.style.top = (el.offsetTop + ev.clientY - py) + 'px';
                    px = ev.clientX;
                    py = ev.clientY;
                };
                document.onmouseup = () => { document.onmousemove = null; document.onmouseup = null; };
            };
        }

        function makeImgResizable(el) {
            const handle = el.querySelector('.img-resize');
            if (!handle) return;
            handle.onmousedown = e => {
                e.stopPropagation();
                const startX = e.clientX;
                const startW = el.offsetWidth;
                document.onmousemove = ev => {
                    const newW = startW + (ev.clientX - startX);
                    if (newW > 50) el.style.width = newW + 'px';
                };
                document.onmouseup = () => { document.onmousemove = null; };
            };
        }

        // Page navigation
        function prevPage() { if (currentPage > 1) { currentPage--; clearDomElements(); renderPage(); } }
        function nextPage() { if (currentPage < totalPages) { currentPage++; clearDomElements(); renderPage(); } }
        function zoomIn() { currentScale += 0.25; renderPage(); }
        function zoomOut() { if (currentScale > 0.5) { currentScale -= 0.25; renderPage(); } }

        function clearDomElements() {
            pageWrapper.querySelectorAll('.text-element, .image-element, .sticky-note, .shape-element').forEach(el => el.remove());
        }

        function clearOverlay() {
            if (confirm('Clear all edits on this page?')) {
                ctx.clearRect(0, 0, overlayCanvas.width, overlayCanvas.height);
                clearDomElements();
                if (layers[currentPage]) layers[currentPage] = { drawings: [], elements: [] };
                updateLayers();
            }
        }

        // Layers panel
        function updateLayers() {
            const list = document.getElementById('layersList');
            const textEls = pageWrapper.querySelectorAll('.text-element');
            const imgEls = pageWrapper.querySelectorAll('.image-element');
            const noteEls = pageWrapper.querySelectorAll('.sticky-note');
            const modifiedCount = pageWrapper.querySelectorAll('.extracted-text.modified').length;
            const drawCount = layers[currentPage] ? layers[currentPage].drawings.length : 0;

            let html = '';
            if (modifiedCount > 0) {
                html += '<div class="layer-item"><span>‚úçÔ∏è ' + modifiedCount + ' Text Edit(s)</span></div>';
            }
            textEls.forEach((el, i) => {
                html += '<div class="layer-item"><span>üî§ Text ' + (i + 1) + '</span><button class="layer-delete" onclick="this.closest(\'.layer-item\').remove(); document.querySelectorAll(\'.text-element\')[' + i + '].remove();">√ó</button></div>';
            });
            imgEls.forEach((el, i) => {
                html += '<div class="layer-item"><span>üñºÔ∏è Image ' + (i + 1) + '</span><button class="layer-delete" onclick="document.querySelectorAll(\'.image-element\')[' + i + '].remove(); updateLayers();">√ó</button></div>';
            });
            noteEls.forEach((el, i) => {
                html += '<div class="layer-item"><span>üìù Note ' + (i + 1) + '</span><button class="layer-delete" onclick="document.querySelectorAll(\'.sticky-note\')[' + i + '].remove(); updateLayers();">√ó</button></div>';
            });
            if (drawCount > 0) {
                html += '<div class="layer-item"><span>‚úèÔ∏è ' + drawCount + ' Drawing(s)</span></div>';
            }

            if (html === '') html = '<p style="color:#94a3b8; font-size:13px; text-align:center;">No edits yet</p>';
            list.innerHTML = html;
        }

        // Undo/Redo ‚Äî now saves both canvas drawings AND DOM elements
        function serializeDomElements() {
            const elements = [];
            pageWrapper.querySelectorAll('.text-element').forEach(el => {
                elements.push({
                    type: 'text',
                    left: el.style.left,
                    top: el.style.top,
                    fontFamily: el.style.fontFamily,
                    fontSize: el.style.fontSize,
                    color: el.style.color,
                    html: el.innerHTML,
                    fontWeight: el.style.fontWeight,
                    fontStyle: el.style.fontStyle,
                    textDecoration: el.style.textDecoration
                });
            });
            pageWrapper.querySelectorAll('.image-element').forEach(el => {
                const img = el.querySelector('img');
                elements.push({
                    type: 'image',
                    left: el.style.left,
                    top: el.style.top,
                    width: el.style.width,
                    src: img ? img.src : ''
                });
            });
            pageWrapper.querySelectorAll('.sticky-note').forEach(el => {
                const textarea = el.querySelector('textarea');
                elements.push({
                    type: 'sticky',
                    left: el.style.left,
                    top: el.style.top,
                    text: textarea ? textarea.value : ''
                });
            });
            return elements;
        }

        function restoreDomElements(elements) {
            clearDomElements();
            if (!elements) return;
            elements.forEach(el => {
                if (el.type === 'text') {
                    const div = document.createElement('div');
                    div.className = 'text-element';
                    div.contentEditable = true;
                    div.style.left = el.left;
                    div.style.top = el.top;
                    div.style.fontFamily = el.fontFamily;
                    div.style.fontSize = el.fontSize;
                    div.style.color = el.color;
                    div.style.zIndex = '50';
                    if (el.fontWeight) div.style.fontWeight = el.fontWeight;
                    if (el.fontStyle) div.style.fontStyle = el.fontStyle;
                    if (el.textDecoration) div.style.textDecoration = el.textDecoration;
                    div.innerHTML = el.html;
                    pageWrapper.appendChild(div);
                    makeDraggable(div);
                    div.ondblclick = (e) => { e.stopPropagation(); div.focus(); document.execCommand('selectAll'); };
                } else if (el.type === 'image') {
                    addImageElement(el.src, parseInt(el.left), parseInt(el.top), parseInt(el.width));
                } else if (el.type === 'sticky') {
                    const note = document.createElement('div');
                    note.className = 'sticky-note';
                    note.style.left = el.left;
                    note.style.top = el.top;
                    note.innerHTML = '<button class="sticky-delete" onclick="this.parentElement.remove(); updateLayers();">√ó</button><textarea placeholder="Write your note...">' + (el.text || '') + '</textarea>';
                    pageWrapper.appendChild(note);
                    makeDraggable(note);
                }
            });
        }

        function saveState() {
            const state = {
                layers: JSON.parse(JSON.stringify(layers)),
                domElements: serializeDomElements(),
                page: currentPage
            };
            undoStack.push(JSON.stringify(state));
            if (undoStack.length > 30) undoStack.shift();
            redoStack = [];
        }

        function undoAction() {
            if (undoStack.length > 0) {
                // Save current state to redo stack
                const currentState = {
                    layers: JSON.parse(JSON.stringify(layers)),
                    domElements: serializeDomElements(),
                    page: currentPage
                };
                redoStack.push(JSON.stringify(currentState));

                const prevState = JSON.parse(undoStack.pop());
                layers = prevState.layers;
                restoreDrawings();
                restoreDomElements(prevState.domElements);
                updateLayers();
            }
        }

        function redoAction() {
            if (redoStack.length > 0) {
                const currentState = {
                    layers: JSON.parse(JSON.stringify(layers)),
                    domElements: serializeDomElements(),
                    page: currentPage
                };
                undoStack.push(JSON.stringify(currentState));

                const nextState = JSON.parse(redoStack.pop());
                layers = nextState.layers;
                restoreDrawings();
                restoreDomElements(nextState.domElements);
                updateLayers();
            }
        }

        // Save PDF
        async function savePDF() {
            if (!pdfBytes) return;

            const pdfLibDoc = await PDFLib.PDFDocument.load(pdfBytes);
            const pages = pdfLibDoc.getPages();

            for (let i = 0; i < pages.length; i++) {
                const pageNum = i + 1;
                const page = pages[i];
                const { width, height } = page.getSize();

                // ============================================
                // Handle MODIFIED EXTRACTED TEXT for every page
                // ============================================
                const pageMods = extractedTexts[pageNum] || [];
                if (pageMods.length > 0) {
                    const scaleX = width / pdfCanvas.width;
                    const scaleY = height / pdfCanvas.height;

                    for (const mod of pageMods) {
                        // White-out the original text area
                        const rectX = mod.x * scaleX;
                        const rectY = height - (mod.y * scaleY);
                        const rectW = Math.max(mod.width * scaleX, 50);
                        const rectH = mod.fontSize * scaleY * 1.3;

                        page.drawRectangle({
                            x: rectX - 2,
                            y: rectY - 2,
                            width: rectW + 4,
                            height: rectH + 4,
                            color: PDFLib.rgb(1, 1, 1),
                        });

                        // Draw the new text
                        const textSize = mod.fontSize * scaleX * 0.72;
                        page.drawText(mod.newText, {
                            x: rectX,
                            y: rectY + 2,
                            size: textSize > 0 ? textSize : 10,
                            color: PDFLib.rgb(0, 0, 0),
                        });
                    }
                }

                // Handle current page's additional elements (added text, drawings, images)
                if (pageNum === currentPage) {
                    // Merge overlay canvas onto PDF canvas
                    const mergedCanvas = document.createElement('canvas');
                    mergedCanvas.width = pdfCanvas.width;
                    mergedCanvas.height = pdfCanvas.height;
                    const mergedCtx = mergedCanvas.getContext('2d');
                    mergedCtx.drawImage(overlayCanvas, 0, 0);

                    // Get NEW text elements (added by user, not extracted)
                    const textEls = pageWrapper.querySelectorAll('.text-element');
                    textEls.forEach(el => {
                        const font = el.style.fontFamily || 'Arial';
                        const size = parseInt(el.style.fontSize) || 18;
                        const color = el.style.color || '#000000';
                        const text = el.textContent || '';
                        const x = parseInt(el.style.left) || 0;
                        const y = parseInt(el.style.top) || 0;

                        const scale = width / pdfCanvas.width;
                        const pdfX = x * scale;
                        const pdfY = height - (y * scale) - (size * scale);

                        const rgb = hexToRgb(color);
                        page.drawText(text, {
                            x: pdfX,
                            y: pdfY,
                            size: size * scale * 0.75,
                            color: PDFLib.rgb(rgb.r / 255, rgb.g / 255, rgb.b / 255)
                        });
                    });

                    // Embed overlay as image
                    if (layers[pageNum] && layers[pageNum].drawings.length > 0) {
                        const overlayDataURL = overlayCanvas.toDataURL('image/png');
                        const overlayBytes = Uint8Array.from(atob(overlayDataURL.split(',')[1]), c => c.charCodeAt(0));
                        const overlayImage = await pdfLibDoc.embedPng(overlayBytes);
                        page.drawImage(overlayImage, { x: 0, y: 0, width, height });
                    }

                    // Embed added images
                    const imgEls = pageWrapper.querySelectorAll('.image-element');
                    for (const imgEl of imgEls) {
                        const img = imgEl.querySelector('img');
                        if (!img) continue;
                        const imgCanvas = document.createElement('canvas');
                        imgCanvas.width = img.naturalWidth;
                        imgCanvas.height = img.naturalHeight;
                        imgCanvas.getContext('2d').drawImage(img, 0, 0);
                        const imgDataURL = imgCanvas.toDataURL('image/png');
                        const imgBytes = Uint8Array.from(atob(imgDataURL.split(',')[1]), c => c.charCodeAt(0));
                        const embeddedImg = await pdfLibDoc.embedPng(imgBytes);

                        const scale = width / pdfCanvas.width;
                        const ix = parseInt(imgEl.style.left) * scale;
                        const iy = height - (parseInt(imgEl.style.top) * scale) - (imgEl.offsetHeight * scale);

                        page.drawImage(embeddedImg, {
                            x: ix, y: iy,
                            width: imgEl.offsetWidth * scale,
                            height: imgEl.offsetHeight * scale
                        });
                    }
                }
            }

            const savedBytes = await pdfLibDoc.save();
               incrementCounter('pdfEditor');
incrementTodayCount();
 download(savedBytes, 'Edited-PDF-OnlinePDFPro.pdf', 'application/pdf');
        }

        function hexToRgb(hex) {
            hex = hex.replace('#', '');
            return {
                r: parseInt(hex.substring(0, 2), 16),
                g: parseInt(hex.substring(2, 4), 16),
                b: parseInt(hex.substring(4, 6), 16)
            };
        }

        // Keyboard shortcuts
        document.onkeydown = e => {
            if (e.ctrlKey && e.key === 'z') { e.preventDefault(); undoAction(); }
            if (e.ctrlKey && e.key === 'y') { e.preventDefault(); redoAction(); }
            if (e.ctrlKey && e.key === 's') { e.preventDefault(); savePDF(); }
        };
    </script>
    <script defer src="js/app.js"></script>

    <!-- Added SEO Sections -->
    <section class="how-it-works" style="margin: 20px auto; padding: 30px; background: var(--surface-1); border-radius: 16px; border: 1px solid var(--border); max-width: 900px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05);">
        <h2 style="font-size: 22px; color: var(--text-primary); margin-bottom: 20px;">How to Editor PDF Files Online</h2>
        <div class="steps" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
            <div class="step">
                <h3 style="font-size: 16px; color: var(--accent); margin: 0 0 8px;">Step 1: Upload Files</h3>
                <p style="font-size: 14px; color: var(--text-secondary); margin: 0;">Click the upload button or drag and drop your files into the tool.</p>
            </div>
            <div class="step">
                <h3 style="font-size: 16px; color: var(--accent); margin: 0 0 8px;">Step 2: Adjust Settings</h3>
                <p style="font-size: 14px; color: var(--text-secondary); margin: 0;">Configure your options or arrange files if needed.</p>
            </div>
            <div class="step">
                <h3 style="font-size: 16px; color: var(--accent); margin: 0 0 8px;">Step 3: Click Editor & Download</h3>
                <p style="font-size: 14px; color: var(--text-secondary); margin: 0;">Click the process button and download your processed file instantly.</p>
            </div>
        </div>
    </section>
    <section class="related-tools" style="margin: 40px auto 20px; padding: 0 20px; max-width: 900px;">
        <h2 style="font-size: 22px; color: var(--text-primary); margin-bottom: 20px;">Related PDF Tools</h2>
        <div class="tools-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
            <a href="/tools/split-pdf.html" style="display: block; padding: 20px; background: var(--surface-1); border: 1px solid var(--border); border-radius: 12px; text-decoration: none; transition: transform 0.2s, box-shadow 0.2s;">
                <h3 style="margin: 0 0 8px; color: var(--accent); font-size: 18px;">Split PDF</h3>
                <p style="margin: 0; color: var(--text-secondary); font-size: 14px;">Extract pages from PDF files</p>
            </a>
            <a href="/tools/compress-pdf.html" style="display: block; padding: 20px; background: var(--surface-1); border: 1px solid var(--border); border-radius: 12px; text-decoration: none; transition: transform 0.2s, box-shadow 0.2s;">
                <h3 style="margin: 0 0 8px; color: var(--accent); font-size: 18px;">Compress PDF</h3>
                <p style="margin: 0; color: var(--text-secondary); font-size: 14px;">Reduce PDF file size</p>
            </a>
            <a href="/tools/pdf-to-word.html" style="display: block; padding: 20px; background: var(--surface-1); border: 1px solid var(--border); border-radius: 12px; text-decoration: none; transition: transform 0.2s, box-shadow 0.2s;">
                <h3 style="margin: 0 0 8px; color: var(--accent); font-size: 18px;">PDF to Word</h3>
                <p style="margin: 0; color: var(--text-secondary); font-size: 14px;">Convert PDF to DOCX</p>
            </a>
        </div>
    </section>
    <section class="faq-section" style="margin: 40px auto; max-width: 900px; padding: 0 20px;">
        <h2 style="font-size: 22px; color: var(--text-primary); margin-bottom: 20px;">Frequently Asked Questions</h2>
        
        <div class="faq-item" style="margin-bottom: 16px; padding: 20px; background: var(--surface-2); border-radius: 12px; border: 1px solid var(--border);">
            <h3 style="font-size: 17px; color: var(--text-primary); margin: 0 0 10px; font-weight: 600; display: flex; align-items: center; gap: 8px;"><span style="color: var(--accent);">Q.</span> How to editor files online for free?</h3>
            <p style="font-size: 15px; color: var(--text-secondary); line-height: 1.6; margin: 0;">Simply upload your files to OnlinePDFPro's editor tool, adjust any settings, and click "Editor." Your processed document will be ready to download in seconds. No signup required, completely free.</p>
        </div>
        
        <div class="faq-item" style="margin-bottom: 16px; padding: 20px; background: var(--surface-2); border-radius: 12px; border: 1px solid var(--border);">
            <h3 style="font-size: 17px; color: var(--text-primary); margin: 0 0 10px; font-weight: 600; display: flex; align-items: center; gap: 8px;"><span style="color: var(--accent);">Q.</span> Is OnlinePDFPro safe to use?</h3>
            <p style="font-size: 15px; color: var(--text-secondary); line-height: 1.6; margin: 0;">Yes! OnlinePDFPro processes all files directly in your browser. Your documents never leave your device and are never uploaded to any server. This makes it the most secure PDF tool available.</p>
        </div>
        
        <div class="faq-item" style="margin-bottom: 16px; padding: 20px; background: var(--surface-2); border-radius: 12px; border: 1px solid var(--border);">
            <h3 style="font-size: 17px; color: var(--text-primary); margin: 0 0 10px; font-weight: 600; display: flex; align-items: center; gap: 8px;"><span style="color: var(--accent);">Q.</span> Can I process multiple files at once?</h3>
            <p style="font-size: 15px; color: var(--text-secondary); line-height: 1.6; margin: 0;">Yes, our tools support processing multiple files at once. There is no limit on the number of files or total file size.</p>
        </div>
        
        <div class="faq-item" style="margin-bottom: 16px; padding: 20px; background: var(--surface-2); border-radius: 12px; border: 1px solid var(--border);">
            <h3 style="font-size: 17px; color: var(--text-primary); margin: 0 0 10px; font-weight: 600; display: flex; align-items: center; gap: 8px;"><span style="color: var(--accent);">Q.</span> Does it work on mobile phones?</h3>
            <p style="font-size: 15px; color: var(--text-secondary); line-height: 1.6; margin: 0;">Yes! OnlinePDFPro works perfectly on all devices - Android phones, iPhones, tablets, laptops and desktops. No app download needed.</p>
        </div>
        
        <div class="faq-item" style="margin-bottom: 16px; padding: 20px; background: var(--surface-2); border-radius: 12px; border: 1px solid var(--border);">
            <h3 style="font-size: 17px; color: var(--text-primary); margin: 0 0 10px; font-weight: 600; display: flex; align-items: center; gap: 8px;"><span style="color: var(--accent);">Q.</span> Is there a file size limit?</h3>
            <p style="font-size: 15px; color: var(--text-secondary); line-height: 1.6; margin: 0;">Since processing happens in your browser, there's no server-side file size limit. You can process files as large as your device can handle.</p>
        </div>
    </section>
<footer
        style="background:var(--surface-1); border-top:1px solid var(--border); padding:40px 20px; margin-top:60px;">
        <div style="max-width:1200px; margin:0 auto;">

            <!-- Top Footer -->
            <div
                style="display:grid; grid-template-columns:repeat(auto-fit, minmax(200px, 1fr)); gap:30px; margin-bottom:30px;">

                <!-- About -->
                <div>
                    <h4 style="color:#60a5fa; margin:0 0 15px; font-size:18px;">Online PDF Pro</h4>
                    <p style="color:var(--text-secondary); font-size:14px; line-height:1.6;">Free online PDF tools used
                        by 100,000+
                        people worldwide. No registration, no watermark, no limits.</p>
                </div>

                <!-- Popular Tools -->
                <div>
                    <h4 style="color:var(--text-primary); margin:0 0 15px; font-size:16px;">Popular Tools</h4>
                    <ul style="list-style:none; padding:0; margin:0;">
                        <li style="margin:8px 0;"><a href="tools/merge-pdf.html"
                                style="color:var(--text-secondary); text-decoration:none; font-size:14px;">Merge PDF</a>
                        </li>
                        <li style="margin:8px 0;"><a href="tools/compress-pdf.html"
                                style="color:var(--text-secondary); text-decoration:none; font-size:14px;">Compress
                                PDF</a></li>
                        <li style="margin:8px 0;"><a href="tools/sign-pdf.html"
                                style="color:var(--text-secondary); text-decoration:none; font-size:14px;">Sign PDF</a>
                        </li>
                        <li style="margin:8px 0;"><a href="tools/pdf-to-word.html"
                                style="color:var(--text-secondary); text-decoration:none; font-size:14px;">PDF to
                                Word</a></li>
                        <li style="margin:8px 0;"><a href="pdf-editor.html"
                                style="color:var(--text-secondary); text-decoration:none; font-size:14px;">PDF
                                Editor</a></li>
                    </ul>
                </div>

                <!-- More Tools -->
                <div>
                    <h4 style="color:var(--text-primary); margin:0 0 15px; font-size:16px;">More Tools</h4>
                    <ul style="list-style:none; padding:0; margin:0;">
                        <li style="margin:8px 0;"><a href="tools/ocr.html"
                                style="color:var(--text-secondary); text-decoration:none; font-size:14px;">OCR Extract
                                Text</a></li>
                        <li style="margin:8px 0;"><a href="voice-to-pdf.html"
                                style="color:var(--text-secondary); text-decoration:none; font-size:14px;">Voice to
                                PDF</a></li>
                        <li style="margin:8px 0;"><a href="tools/pdf-to-images.html"
                                style="color:var(--text-secondary); text-decoration:none; font-size:14px;">PDF to
                                JPG</a></li>
                        <li style="margin:8px 0;"><a href="compare-pdf.html"
                                style="color:var(--text-secondary); text-decoration:none; font-size:14px;">Compare
                                PDFs</a></li>
                        <li style="margin:8px 0;"><a href="qr-pdf.html"
                                style="color:var(--text-secondary); text-decoration:none; font-size:14px;">QR Code in
                                PDF</a></li>
                    </ul>
                </div>

                <!-- Company -->
                <div>
                    <h4 style="color:var(--text-primary); margin:0 0 15px; font-size:16px;">Company</h4>
                    <ul style="list-style:none; padding:0; margin:0;">
                        <li style="margin:8px 0;"><a href="about.html"
                                style="color:var(--text-secondary); text-decoration:none; font-size:14px;">About Us</a>
                        </li>
                        <li style="margin:8px 0;"><a href="contact.html"
                                style="color:var(--text-secondary); text-decoration:none; font-size:14px;">Contact
                                Us</a></li>
                        <li style="margin:8px 0;"><a href="privacy.html"
                                style="color:var(--text-secondary); text-decoration:none; font-size:14px;">Privacy
                                Policy</a></li>
                        <li style="margin:8px 0;"><a href="terms.html"
                                style="color:var(--text-secondary); text-decoration:none; font-size:14px;">Terms of
                                Service</a></li>
                        <li style="margin:8px 0;"><a href="blog.html"
                                style="color:var(--text-secondary); text-decoration:none; font-size:14px;">Blog</a></li>
                    </ul>
                </div>

            </div>

            <!-- Divider -->
            <div style="height:1px; background:var(--border); margin:20px 0;"></div>

            <!-- Bottom Footer -->
            <div style="display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:15px;">
                <p style="color:var(--text-muted); font-size:13px; margin:0;">¬© 2026 Online PDF Pro. All rights
                    reserved. Made
                    with ‚ù§Ô∏è in India.</p>
                <div style="display:flex; gap:15px;">
                    <span
                        style="padding:6px 14px; background:rgba(37,99,235,0.15); border-radius:20px; font-size:12px; color:#60a5fa; font-weight:bold;">üîí
                        Your files are safe</span>
                    <span
                        style="padding:6px 14px; background:rgba(16,185,129,0.15); border-radius:20px; font-size:12px; color:#4ade80; font-weight:bold;">‚ö°
                        100% Client-Side</span>
                </div>
            </div>

        </div>
    </footer>

<script defer src="counter.js"></script>

<script>
if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js').catch(err => console.log('SW Reg Failed', err));
    });
}
</script>
</body>

</html>