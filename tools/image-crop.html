<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Crop - Precision Framing | OnlinePDFPro</title>
    <meta name="description"
        content="Sculpt your images with browser-native precision. Fast, private, and powerful cropping tools for JPG, PNG, and WebP. Professional aspect ratio presets included.">
    <meta name="keywords" content="crop image, trim image, cut image, image cropper, private document tools">

    <link rel="canonical" href="https://onlinepdfpro.com/tools/image-crop.html">

    <meta property="og:title" content="Image Crop - Precision Framing | OnlinePDFPro">
    <meta property="og:description"
        content="Crop images online for free with visual selection. Supports aspect ratio presets. Browser-based.">
    <meta property="og:type" content="website">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Outfit:wght@500;600;700;800&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/tools.css">
    <link rel="manifest" href="../manifest.json">
    <meta name="theme-color" content="#020617">

    <style>
        .crop-workspace {
            position: relative;
            max-width: 100%;
            max-height: 500px;
            overflow: hidden;
            margin: 32px auto;
            background: var(--surface-1);
            border-radius: var(--radius-lg);
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-xl);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .crop-image {
            max-width: 100%;
            max-height: 500px;
            display: block;
            user-select: none;
            -webkit-user-drag: none;
        }

        .crop-overlay {
            position: absolute;
            border: 2px solid var(--primary);
            background: rgba(139, 92, 246, 0.1);
            cursor: move;
            box-shadow: 0 0 0 9999px rgba(2, 6, 23, 0.7);
            touch-action: none;
        }

        .crop-grid {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
        }

        .crop-grid::before,
        .crop-grid::after {
            content: '';
            position: absolute;
            background: rgba(255, 255, 255, 0.2);
        }

        .crop-grid::before {
            top: 33.33%;
            bottom: 33.33%;
            left: 0;
            right: 0;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .crop-grid::after {
            left: 33.33%;
            right: 33.33%;
            top: 0;
            bottom: 0;
            border-left: 1px solid rgba(255, 255, 255, 0.2);
            border-right: 1px solid rgba(255, 255, 255, 0.2);
        }

        .crop-handle {
            position: absolute;
            width: 14px;
            height: 14px;
            background: var(--primary);
            border: 2px solid white;
            border-radius: 50%;
            transition: transform 0.2s ease;
        }

        .crop-handle:hover {
            transform: scale(1.3);
            background: white;
            border-color: var(--primary);
        }

        .crop-handle.nw {
            top: -7px;
            left: -7px;
            cursor: nw-resize;
        }

        .crop-handle.ne {
            top: -7px;
            right: -7px;
            cursor: ne-resize;
        }

        .crop-handle.sw {
            bottom: -7px;
            left: -7px;
            cursor: sw-resize;
        }

        .crop-handle.se {
            bottom: -7px;
            right: -7px;
            cursor: se-resize;
        }

        .dimensions-tag {
            background: var(--primary);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            font-family: 'Outfit', sans-serif;
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            white-space: nowrap;
        }

        .aspect-presets {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
            gap: 8px;
            background: var(--surface-1);
            padding: 8px;
            border-radius: var(--radius-xl);
            border: 1px solid var(--glass-border);
            margin-bottom: 24px;
        }

        .aspect-btn {
            padding: 10px;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            border-radius: var(--radius-lg);
            cursor: pointer;
            font-size: 0.8125rem;
            font-weight: 600;
            font-family: 'Outfit', sans-serif;
            transition: var(--transition-base);
            text-align: center;
        }

        .aspect-btn.active {
            background: var(--primary);
            color: white;
        }

        .aspect-btn span {
            display: block;
            font-size: 0.7rem;
            opacity: 0.7;
            margin-top: 2px;
        }
    </style>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3541372477756449" crossorigin="anonymous"></script>
</head>

<body class="fade-in">
    <header class="header">
        <div class="header-content">
            <a href="../index.html" class="logo">
                <span class="logo-icon">ðŸ“„</span>
                <span class="logo-text">OnlinePDFPro</span>
            </a>
            <nav class="nav" id="nav">
                <a href="../tools.html" class="nav-link">All Tools</a>
                <a href="../about.html" class="nav-link">About</a>
                <a href="../help.html" class="nav-link">Help</a>
            </nav>
            <div class="header-actions">
                <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">
                    <span class="theme-icon-light">ðŸŒ™</span>
                    <span class="theme-icon-dark">â˜€ï¸</span>
                </button>
                <a href="../tools.html" class="btn btn-primary">Try Now</a>
            </div>
        </div>
    </header>

    <main id="main" class="tool-page">
        <div class="container" style="max-width: 800px;">
            <div class="tool-header">
                <span class="section-tag fade-in">Creative Engine</span>
                <h1 class="tool-title fade-in">Image Crop</h1>
                <p class="tool-description fade-in" style="animation-delay: 0.1s;">
                    Precision framing for your digital assets.
                    Crop, adjust, and export with professional-grade fidelity.
                </p>
            </div>

            <div class="upload-zone glass-card fade-in" id="uploadZone" style="animation-delay: 0.2s;">
                <span class="upload-icon">âœ‚ï¸</span>
                <p class="upload-text">Select image to refactor</p>
                <p class="upload-hint">Lossless processing. Privacy by default.</p>
                <button class="btn btn-primary upload-btn">Choose Image</button>
            </div>

            <div id="cropSection" style="display: none;">
                <div class="options-panel glass-card" style="padding: 24px; margin-bottom: 32px;">
                    <h3 class="options-title"
                        style="font-family: 'Outfit', sans-serif; font-size: 1rem; margin-bottom: 16px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em;">
                        Aspect Calibration</h3>
                    <div class="aspect-presets" id="aspectOptions">
                        <button class="aspect-btn active" data-aspect="free">Free<span>Custom</span></button>
                        <button class="aspect-btn" data-aspect="1:1">1:1<span>Square</span></button>
                        <button class="aspect-btn" data-aspect="4:3">4:3<span>Classic</span></button>
                        <button class="aspect-btn" data-aspect="16:9">16:9<span>Cinema</span></button>
                        <button class="aspect-btn" data-aspect="3:2">3:2<span>Photo</span></button>
                        <button class="aspect-btn" data-aspect="2:3">2:3<span>Portrait</span></button>
                    </div>

                    <div class="crop-workspace" id="cropContainer">
                        <img id="cropImage" class="crop-image" src="" alt="Workspace">
                        <div class="crop-overlay" id="cropOverlay">
                            <div class="dimensions-tag" id="cropDimensions">0 Ã— 0</div>
                            <div class="crop-grid"></div>
                            <div class="crop-handle nw" data-handle="nw"></div>
                            <div class="crop-handle ne" data-handle="ne"></div>
                            <div class="crop-handle sw" data-handle="sw"></div>
                            <div class="crop-handle se" data-handle="se"></div>
                        </div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-secondary" id="resetCropBtn">Default View</button>
                    <button class="btn btn-primary btn-lg" id="cropBtn" style="flex: 2;">Execute Crop</button>
                </div>
            </div>

            <div id="resultsSection" style="display: none;">
                <div class="results-section glass-card" style="padding: 48px; text-align: center;">
                    <div class="success-message"
                        style="background: none; border: none; font-size: 1.75rem; font-weight: 700; color: var(--success); padding: 0; margin-bottom: 32px;">
                        Composition Finalized
                    </div>

                    <div
                        style="margin-bottom: 32px; border-radius: var(--radius-lg); overflow: hidden; border: 1px solid var(--glass-border);">
                        <img id="resultImage" style="max-width: 100%; display: block;" alt="Result">
                    </div>

                    <div class="download-section">
                        <button class="btn btn-primary btn-lg" id="downloadBtn" style="width: 100%;">Download
                            Export</button>
                    </div>
                    <div class="auto-clear" id="autoClear" style="margin-top: 24px;">Privacy sweep in 5:00</div>
                </div>
                <div class="action-buttons mt-lg" style="text-align: center;">
                    <button class="btn btn-secondary" id="cropAnother">New Session</button>
                </div>
            </div>

            <div class="privacy-reminder fade-in" style="animation-delay: 0.3s; margin-top: 60px;">
                <span class="privacy-reminder-icon">ðŸ›¡ï¸</span>
                <span>Your pixels never leave your machine. Zero tracking.</span>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <a href="../index.html" class="logo" style="margin-bottom: 24px;">
                        <span class="logo-icon">ðŸ“„</span>
                        <span class="logo-text">OnlinePDFPro</span>
                    </a>
                    <p class="footer-tagline">Building a safer, faster web <br>for your documents.</p>
                </div>
            </div>
            <div
                style="margin-top: 60px; padding-top: 30px; border-top: 1px solid var(--glass-border); display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px;">
                <p style="color: var(--text-muted); font-size: 0.875rem;">&copy; 2026 OnlinePDFPro. All rights reserved.
                </p>
                <div style="display: flex; gap: 24px;">
                    <span style="color: var(--text-muted); font-size: 0.875rem;">Crafted with ðŸ’œ</span>
                </div>
            </div>
        </div>
    </footer>

    <script src="../js/app.js"></script>
    <script>
        (function () {
            let imageFile = null;
            let originalImage = null;
            let croppedBlob = null;
            let aspectRatio = null;

            let crop = { x: 50, y: 50, width: 200, height: 200 };
            let isDragging = false;
            let isResizing = false;
            let activeHandle = null;
            let startX, startY, startCrop;

            const uploadZone = document.getElementById('uploadZone');
            const cropSection = document.getElementById('cropSection');
            const resultsSection = document.getElementById('resultsSection');
            const cropImage = document.getElementById('cropImage');
            const cropOverlay = document.getElementById('cropOverlay');
            const cropContainer = document.getElementById('cropContainer');

            OnlinePDFPro.FileUploader.init('uploadZone', {
                accept: 'image/jpeg,image/png,image/webp',
                multiple: false,
                onFilesSelected: handleFileSelected
            });

            async function handleFileSelected(files) {
                imageFile = files[0];
                const reader = new FileReader();
                reader.onload = (e) => {
                    cropImage.onload = () => {
                        originalImage = cropImage;
                        initCrop();
                        uploadZone.style.display = 'none';
                        cropSection.style.display = 'block';
                    };
                    cropImage.src = e.target.result;
                };
                reader.readAsDataURL(imageFile);
            }

            function initCrop() {
                const rect = cropImage.getBoundingClientRect();
                crop = {
                    x: rect.width * 0.1, y: rect.height * 0.1,
                    width: rect.width * 0.8, height: rect.height * 0.8
                };
                updateCropOverlay();
            }

            function updateCropOverlay() {
                cropOverlay.style.left = crop.x + 'px';
                cropOverlay.style.top = crop.y + 'px';
                cropOverlay.style.width = crop.width + 'px';
                cropOverlay.style.height = crop.height + 'px';
                const imgRect = cropImage.getBoundingClientRect();
                const scaleX = cropImage.naturalWidth / imgRect.width;
                const scaleY = cropImage.naturalHeight / imgRect.height;
                const actualWidth = Math.round(crop.width * scaleX);
                const actualHeight = Math.round(crop.height * scaleY);
                document.getElementById('cropDimensions').textContent = `${actualWidth} Ã— ${actualHeight}`;
            }

            document.querySelectorAll('#aspectOptions .aspect-btn').forEach(btn => {
                btn.onclick = () => {
                    document.querySelectorAll('#aspectOptions .aspect-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    const aspect = btn.dataset.aspect;
                    if (aspect === 'free') {
                        aspectRatio = null;
                    } else {
                        const [w, h] = aspect.split(':').map(Number);
                        aspectRatio = w / h;
                        crop.height = crop.width / aspectRatio;
                        const rect = cropImage.getBoundingClientRect();
                        if (crop.y + crop.height > rect.height) {
                            crop.height = rect.height - crop.y;
                            crop.width = crop.height * aspectRatio;
                        }
                        updateCropOverlay();
                    }
                };
            });

            cropOverlay.onmousedown = (e) => {
                if (e.target.classList.contains('crop-handle')) {
                    isResizing = true;
                    activeHandle = e.target.dataset.handle;
                } else {
                    isDragging = true;
                }
                startX = e.clientX; startY = e.clientY;
                startCrop = { ...crop };
                e.preventDefault();
            };

            document.onmousemove = (e) => {
                if (!isDragging && !isResizing) return;
                const dx = e.clientX - startX;
                const dy = e.clientY - startY;
                const rect = cropImage.getBoundingClientRect();

                if (isDragging) {
                    crop.x = Math.max(0, Math.min(rect.width - crop.width, startCrop.x + dx));
                    crop.y = Math.max(0, Math.min(rect.height - crop.height, startCrop.y + dy));
                } else if (isResizing) {
                    if (activeHandle.includes('e')) crop.width = Math.max(50, Math.min(rect.width - crop.x, startCrop.width + dx));
                    if (activeHandle.includes('w')) {
                        const newWidth = Math.max(50, startCrop.width - dx);
                        crop.x = Math.max(0, startCrop.x + (startCrop.width - newWidth));
                        crop.width = startCrop.width + startCrop.x - crop.x;
                    }
                    if (activeHandle.includes('s')) crop.height = Math.max(50, Math.min(rect.height - crop.y, startCrop.height + dy));
                    if (activeHandle.includes('n')) {
                        const newHeight = Math.max(50, startCrop.height - dy);
                        crop.y = Math.max(0, startCrop.y + (startCrop.height - newHeight));
                        crop.height = startCrop.height + startCrop.y - crop.y;
                    }
                    if (aspectRatio) {
                        if (activeHandle.includes('e') || activeHandle.includes('w')) {
                            crop.height = crop.width / aspectRatio;
                            if (crop.y + crop.height > rect.height) {
                                crop.height = rect.height - crop.y;
                                crop.width = crop.height * aspectRatio;
                            }
                        } else {
                            crop.width = crop.height * aspectRatio;
                            if (crop.x + crop.width > rect.width) {
                                crop.width = rect.width - crop.x;
                                crop.height = crop.width / aspectRatio;
                            }
                        }
                    }
                }
                updateCropOverlay();
            };

            document.onmouseup = () => { isDragging = false; isResizing = false; activeHandle = null; };

            document.getElementById('resetCropBtn').onclick = initCrop;
            document.getElementById('cropBtn').onclick = cropImageHandler;

            function cropImageHandler() {
                const imgRect = cropImage.getBoundingClientRect();
                const scaleX = cropImage.naturalWidth / imgRect.width;
                const scaleY = cropImage.naturalHeight / imgRect.height;
                const canvas = document.createElement('canvas');
                canvas.width = Math.round(crop.width * scaleX);
                canvas.height = Math.round(crop.height * scaleY);
                const ctx = canvas.getContext('2d');
                ctx.drawImage(cropImage, crop.x * scaleX, crop.y * scaleY, crop.width * scaleX, crop.height * scaleY, 0, 0, canvas.width, canvas.height);
                const mimeType = imageFile.type === 'image/png' ? 'image/png' : 'image/jpeg';
                canvas.toBlob((blob) => {
                    croppedBlob = blob;
                    document.getElementById('resultImage').src = URL.createObjectURL(blob);
                    cropSection.style.display = 'none';
                    resultsSection.style.display = 'block';
                    OnlinePDFPro.AutoClear.start(300, resetTool, document.getElementById('autoClear'));
                    OnlinePDFPro.RecentlyUsed.add('image-crop', 'Image Crop');
                }, mimeType, 0.92);
            }

            document.getElementById('downloadBtn').onclick = () => {
                if (!croppedBlob) return;
                const ext = imageFile.type === 'image/png' ? 'png' : 'jpg';
                OnlinePDFPro.Downloader.saveBlob(croppedBlob, `cropped.${ext}`);
            };

            document.getElementById('cropAnother').onclick = resetTool;

            function resetTool() {
                imageFile = null; originalImage = null; croppedBlob = null; aspectRatio = null;
                uploadZone.style.display = 'block'; cropSection.style.display = 'none';
                resultsSection.style.display = 'none';
                OnlinePDFPro.AutoClear.clearAll();
            }
        })();
    </script>
</body>

</html>